# Java 封装

封装的含义：

1. 将类的某些信息隐藏在类内部，不允许外部程序直接访问

2. 通过该类提供的方法来实现对隐藏信息的操作和访问

3. 隐藏对象的信息

4. 留出访问的接口

封装的特点：

1. 只能通过规定的方法访问数据

2. 隐藏类的实例细节，方便修改和实现

[![2usgP0.png](https://z3.ax1x.com/2021/06/01/2usgP0.png)](https://imgtu.com/i/2usgP0)

## Java 包

### 作用

1. 管理 Java 文件

2. 解决同名文件冲突

### 定义包

语法：package 包名

例如： `package com.imooc.animal;`

注意事项：

1. 必须放在 Java 源文件中的第一行

2. 一个 Java 源文件中只能有一个 package 语句

3. 包名全部英文小写

4. 命名方式：域名倒叙 + 模块 + 功能

## static 关键字

1. 类对象共享

2. 类加载时就会产生,销毁时释放,生命周期长

3. 静态成员需要通过类名来访问, 才不会有警告

例如: Cat.price

```java
package com.imooc.animal;

public class Cat {
  // 修改属性的可见性->private(只能在当前类内访问)
  private String name;
  int month;
  int weight;
  String species;
  // static: 静态成员, 类成员
  // 无论这个类实例化出来了多少个对象, price都会共用同一块储存空间
  public static int price;
}

```

## 静态方法注意事项

1. 成员方法中, 使用`this.静态成员`即可访问静态属性

2. 静态方法中不能直接访问**同一个类**的非静态成员(方法和属性都不可以), 只能直接调用**同一个类**静态方法

3. 如果一定要调用非静态的方法, 只能通过对象实例化之后, 通过**对象.成员**来访问

4. 静态方法中不能出现 this 关键字

## 代码块

- 执行顺序

静态代码块 => 构造代码块 => 构造方法 => 普通代码块

- 普通代码块

顺序执行, 先出现, 先执行

- 构造代码块

> 每次实例化对象的时候都会执行

创建对象时调用, 优先于`构造方法`执行

- 静态代码块

> 要注意了, 无论实例化多少个对象, 静态代码块的代码只会执行一次

类加载时调用, 优先于`构造代码块`执行

```java
public class TestDemo {
  {
    System.out.println("这是`构造代码块`"); // 构造代码块, 创建对象时调用, 在构造方法运行之前执行(相同的构造代码块顺序执行)
  }
  static{ // 如果加上了static关键字, 这个就会变成静态代码块(无论放在何处, 优于构造代码块执行)
    System.out.println("这是`静态代码块`"); // 类加载时调用, 优于构造代码块执行
  }
  public static void main(String[] args) {

  }

  public void run() {
    {
      System.out.println("这是普通代码块"); // 普通代码块是顺序执行的
    }
  }
}

```

- 注意事项

(1)执行优先级: 静态代码块 > 构造代码块 > 构造方法
(2)执行次数: 静态代码块`只执行一次`; 构造代码块, 构造方法依据实例化对象的个数而定

(3)不能在静态代码块中直接对**非静态成员**赋值
(4)可以在构造代码块中直接操作静态成员和非静态成员

(5)不能在静态代码块中声明静态成员, 但是可以声明非静态成员
(6)静态代码块中声明的成员, 在外部无法进行访问

(7)普通代码块在方法内顺序执行，各自作用范围独立。
(8)方法内定义的局部变量，作用范围为：自定义位置起，至方法结束。在此期间，不允许方法中普通代码块内存在局部变量的声明。
