# 装饰器模式

## 介绍

### 概念

装饰器模式（Decorator Pattern）允许向一个现有的对象添加新的功能，同时又不改变其结构。这种类型的设计模式属于结构型模式，它是作为现有的类的一个包装。动态地给一个对象添加一些额外的职责。就增加功能来说，装饰器模式相比生成子类更为灵活。

- 为对象添加新功能

- 不改变原有的结构和功能

一个对象已经有了啊 a, b, c 的功能, 在增加 e, f 两个功能, 添加了之后, 就有原有的 a, b, c 的功能和装饰的 e, f 五个功能

:::tip 和适配器模式的区别
`适配器模式`是原有的接口压根不能使用了, 或者因为老旧的问题不能使用了, 所以需要从新装饰一个给用户使用
但是`装饰器模式`是原有的要继续用, 新增一些装饰性的东西
:::

手机上套一个壳可以保护手机，壳上粘一个指环，可以挂在手指上不容易滑落，这就是一种装饰。手机还是那个手机，手机的功能一点都没变，只是在手机的外面装饰了一些其他附加的功能。日常生活中，这样的例子非常多。

## 演示

通常的 UML 类图

[![yLijDs.png](https://s3.ax1x.com/2021/02/23/yLijDs.png)](https://imgchr.com/i/yLijDs)

去掉父子类的继承（前端少用），简化之后的类图是

[![yLFCCT.png](https://s3.ax1x.com/2021/02/23/yLFCCT.png)](https://imgchr.com/i/yLFCCT)

```js
class Circle {
  draw() {
    console.log('画一个圆形')
  }
}

class Decorator {
  constructor(circle) {
    this.circle = circle
  }

  draw() {
    this.circle.draw()
    this.setRedBorder(circle)
  }

  setRedBorder(circle) {
    console.log('设置红色边框')
  }
}

const circle = new Circle()
circle.draw()

const dec = new Decorator(circle)
dec.draw()
```

## 场景

1. ES7装饰器



## 总结
